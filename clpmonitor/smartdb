CREATE SCHEMA smartdb;
USE smartdb;

CREATE TABLE storage (
  id BIGINT NOT NULL AUTO_INCREMENT,
  name VARCHAR(255) NOT NULL,
  capacity INT NOT NULL,
  PRIMARY KEY (id)
);

CREATE TABLE pedido (
  id BIGINT NOT NULL AUTO_INCREMENT,
  tipo VARCHAR(255) NOT NULL,
  PRIMARY KEY (id)
);

CREATE TABLE block (
  id BIGINT NOT NULL AUTO_INCREMENT,
  position INT NOT NULL,
  color INT NOT NULL,
  storage_id BIGINT NOT NULL,
  pedido_id BIGINT DEFAULT NULL,
  PRIMARY KEY (id),
  CONSTRAINT FK_Block_Storage FOREIGN KEY (storage_id) REFERENCES storage (id),
  CONSTRAINT FK_Block_Pedido FOREIGN KEY (pedido_id) REFERENCES pedido (id)
);

CREATE TABLE lamina (
  id BIGINT NOT NULL AUTO_INCREMENT,
  cor VARCHAR(255) NOT NULL,
  padrao VARCHAR(255) NOT NULL,
  block_id BIGINT NOT NULL,
  PRIMARY KEY (id),
  CONSTRAINT FK_Lamina_Block FOREIGN KEY (block_id) REFERENCES block (id)
);

-- Inserções iniciais
INSERT INTO storage (name, capacity) VALUES 
('Estoque', 28),   -- Este terá id = 1 (para posições 1-28)
('Expedição', 12);  -- Este terá id = 2 (para posições 1-12)



